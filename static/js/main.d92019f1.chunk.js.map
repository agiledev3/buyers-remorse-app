{"version":3,"sources":["Components/PageSelection/Pages.js","Components/Home/ListItem.js","Components/Home/ProductList.js","Components/Home/index.js","Components/EditProduct/useForm.js","Components/EditProduct/index.js","Components/PageSelection/PageSelection.js","Products/sources/LocalStorageSource.js","Products/index.js","Utils/DateService.js","App.js","reportWebVitals.js","index.js"],"names":["Pages","HOME","EDIT_PRODUCT","ListItem","props","product","id","name","daysLeft","likeCount","Card","className","Title","Row","Col","Button","variant","title","onClick","changePage","setCurrentProduct","style","paddingLeft","paddingRight","marginLeft","Badge","ProductList","sm","span","fontSize","allProducts","map","Home","useForm","existingProduct","initProduct","linkToBuy","reasonToBuy","reminderPeriod","coolingPeriod","useState","setValues","handleChange","event","target","value","handleReset","EditProduct","resetAndGoHome","Fragment","xs","size","Form","onSubmit","e","preventDefault","updateProduct","createProduct","Group","Label","htmlFor","Control","onChange","placeholder","data-testid","required","as","rows","type","min","max","maxWidth","lg","aligned","PageSelection","selectedPage","setSelectedPage","currentProduct","LocalStorageSource","read","localStorage","getItem","JSON","parse","write","entity","source","this","filter","calculateNextId","push","setItem","stringify","entities","length","Math","element","Products","DataSource","DateService","_calculateDaysLeft","createdAt","nowMs","dateService","getCurrent","getTime","diffDays","Date","msInDay","floor","dataSource","products","_readProductsFromSource","forEach","productId","productChanges","_writeProductToSource","toISOString","App","getAll","setAllProducts","Container","pages","create","bind","update","reportWebVitals","onPerfEntry","Function","then","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.d92019f1.chunk.js","sourcesContent":["// list of pages in the app. \n// Use to switch pages from another component by importing \nconst Pages = {HOME: \"Home\", EDIT_PRODUCT: \"EDIT_PRODUCT\"}\n\nexport default Pages","import React from 'react'\nimport { Card, Col, Row, Button, Badge } from 'react-bootstrap'\nimport Pages from '../PageSelection/Pages'\n\nfunction ListItem(props) {\n    const { id, name, daysLeft, likeCount } = props.product;\n\n    const handleEditClick = () => {\n        props.changePage(Pages.EDIT_PRODUCT)   \n        props.setCurrentProduct(props.product)             \n    }\n\n    return (\n        <Card className=\"p-3\" id={id} key={id}>\n             <Card.Title>{name}</Card.Title>\n             <Row>\n                <Col>\n                    {daysLeft === 0 ?\n                        <Button variant=\"btn btn-outline-success\" className=\"px-3\"><i className=\"fas fa-minus-circle\"></i> Forget</Button>:\n                        <span><i className=\"far fa-clock\"></i> {daysLeft} days left</span>}\n                </Col>\n                <Col className=\"text-right\">\n                    <Button variant=\"outline-secondary\" title=\"Edit product\" onClick={handleEditClick}><i className=\"fas fa-pen\" ></i></Button>\n                    <Button variant=\"success\" style={{paddingLeft:'0.55em', paddingRight:'0.2em', marginLeft:'0.3em'}}>\n                        <i className=\"fas fa-thumbs-up\"></i>\n                        <sup><Badge variant=\"light\">{likeCount}</Badge></sup>\n                    </Button>\n                </Col>\n            </Row>\n        </Card>\n    )\n}\n\nexport default ListItem\n","import React from 'react'\nimport ListItem from './ListItem'\nimport Pages from '../PageSelection/Pages'\nimport { Card, Col, Row, Button } from 'react-bootstrap'\n\nfunction ProductList(props) {\n\n    const handleAddClick = () => {\n        props.changePage(Pages.EDIT_PRODUCT)\n    }\n\n    return (\n        <div>\n            <Card className='p-2'>\n                <Card.Title className=\"text-center\">\n                    <Row>\n                        <Col sm={{span:2}}></Col>\n                        <Col sm={{span:8}}>\n                            Buyer's regret\n                        </Col>\n                         <Col sm={{span:2}} style={{fontSize:\"2em\"}}><i className=\"far fa-user-circle align-middle\"></i></Col>\n                    </Row>\n                    <Row>\n                    <Col sm={{span:2}}></Col>\n                    <Col sm={{span:8}}>\n                            My wishlist\n                    </Col>\n                    <Col sm={{span:2}}></Col>\n                    </Row>\n                </Card.Title>\n            </Card>\n            {props.allProducts.map((product) => (\n                <ListItem key={product.id} product={product} changePage={props.changePage} setCurrentProduct={props.setCurrentProduct}/>\n            ))}\n            <Button variant=\"primary\" className=\"float-right my-3\" title=\"Add new product\" onClick={handleAddClick}>\n                <i className=\"fas fa-plus\" ></i>\n            </Button>\n        </div>\n    )\n}\n\nexport default ProductList\n","import React from \"react\";\nimport ProductList from './ProductList'\n\nconst Home = (props) => {\n  return (\n    <ProductList allProducts={props.allProducts} \n                 changePage={props.changePage} \n                 setCurrentProduct={props.setCurrentProduct}/>\n  );\n};\n\nexport default Home;\n","import { useState } from 'react'\r\n\r\nconst useForm = (existingProduct) => {\r\n\t//use a passed product to edit; if none is passed - construct a default one to create\r\n\tconst initProduct = existingProduct ? existingProduct :  {\r\n\t\tname: \"\",\r\n\t\tlinkToBuy: \"\",\r\n\t\treasonToBuy: \"\",\r\n\t\treminderPeriod: 7,\r\n\t\tcoolingPeriod: 30,\r\n\t};\r\n\r\n\tconst [product, setValues] = useState(initProduct)\r\n\tconst handleChange = (event) => {\r\n\t\tconst { name, value } = event.target\r\n\t\tsetValues({...product, [name]: value})\r\n\t}\r\n\tconst handleReset = () =>{\r\n\t\tsetValues({...initProduct})\r\n\t}\r\n\r\n\treturn {handleChange, handleReset, product}\r\n}\r\n\r\nexport default useForm\r\n","import React from \"react\"\nimport useForm from './useForm'\nimport Pages from '../PageSelection/Pages'\nimport { Col, Row, Card, Button, Form } from 'react-bootstrap'\n\nconst EditProduct = (props) => {\n\tconst { handleChange, handleReset, product } = useForm(props.product);\n\tconst handleSubmit = (e) =>{\n\t\te.preventDefault();\t\t\n\t\tif(product.id){\n\t\t\tprops.updateProduct(product.id, product)\n\t\t}\n\t\telse{\n\t\t\tprops.createProduct(product)\n\t\t}\n\t\tprops.changePage(Pages.HOME);\n\t\tprops.setCurrentProduct(null);\n\t}\n\n    const resetAndGoHome = () =>{\n        handleReset();\n        props.changePage(Pages.HOME);\n\t\tprops.setCurrentProduct(null);\n    }\n\n\treturn(\n\t\t<React.Fragment>\n\t\t\t<Card className=\"my-2\">\n\t\t\t\t<Card.Title className='text-center'>\n\t\t\t\t\t<Row className=\"p-1\">\n\t\t                 <Col xs={{span:2}} style={{fontSize:\"2em\"}}>\n\t\t                  \t<Button variant=\"outline-dark\" size=\"lg\" onClick={resetAndGoHome}>\n\t\t\t\t\t\t\t\t<i className=\"fas fa-chevron-left align-center\"></i>\n\t\t\t\t\t\t\t</Button>\n\t\t                 </Col>\n\t\t                 <Col xs={{span:8}}>\n\t\t                        Buyer's regret\n\t\t                 </Col>\n\t\t                    <Col xs={{span:2}} style={{fontSize:\"2em\"}}>\n\t\t                   \t<i className=\"far fa-user-circle align-middle\"></i>\n\t\t                 </Col>\n\t\t            </Row>\n\t\t            <Row>\n\t\t                <Col sm={{span:2}}></Col>\n\t\t                <Col sm={{span:8}}>\n\t\t                        Product Details\n\t\t                </Col>\n\t\t                <Col sm={{span:2}}></Col>\n\t\t            </Row>\n\t\t\t\t</Card.Title>\n\t\t\t</Card>\n\t\t\t<Form className=\"product-form\" onSubmit={handleSubmit}>\n\t\t\t\t<Form.Group>\n\t\t\t\t\t<Form.Label htmlFor=\"name\">Product name:</Form.Label>\n\t\t\t\t\t<Form.Control\n\t\t\t\t\t\tonChange={handleChange}\n\t\t\t\t\t\tvalue={product.name}\n\t\t\t\t\t\tplaceholder=\"Product name ...\"\n\t\t\t\t\t\tname=\"name\"\n\t\t\t\t\t\tid=\"name\"\n\t\t\t\t\t\tdata-testid=\"name\"\n\t\t\t\t\t\trequired/>\n\t\t\t\t</Form.Group>\n\t\t\t\t<Form.Group>\n\t\t\t\t\t<Form.Label htmlFor=\"linkToBuy\">Link to buy:</Form.Label>\n\t\t\t\t\t<Form.Control\n\t\t\t\t\t\tonChange={handleChange}\n\t\t\t\t\t\tvalue={product.linkToBuy}\n\t\t\t\t\t\tplaceholder=\"Link to a website ...\"\n\t\t\t\t\t\tname=\"linkToBuy\"\n\t\t\t\t\t\tid=\"linkToBuy\"\n\t\t\t\t\t\t/>\n\t\t\t\t</Form.Group>\n\t\t\t\t<Form.Group>\n\t\t\t\t\t<Form.Label htmlFor=\"reasonToBuy\">Why would you like to buy this product?</Form.Label>\n\t\t\t\t\t<Form.Control\n\t\t\t\t\t\tonChange={handleChange}\n\t\t\t\t\t\tvalue={product.reasonToBuy}\n\t\t\t\t\t\tplaceholder=\"Reason to buy ...\"\n\t\t\t\t\t\tname=\"reasonToBuy\"\n\t\t\t\t\t\tid=\"reasonToBuy\"\n\t\t\t\t\t\tas=\"textarea\"\n\t\t\t\t\t\trows=\"3\"\n\t\t\t\t\t\trequired\n\t\t\t\t\t\t />\n\t\t\t\t</Form.Group>\n\t\t\t\t<Form.Row>\n\t\t\t\t<Form.Group as={Col} xs=\"auto\">\n\t\t\t\t\t<Form.Label htmlFor=\"reminderPeriod\">How long should I wait before I remind you about this product?</Form.Label>\n\t\t\t\t\t<Form.Control\n\t\t\t\t\t\tonChange={handleChange}\n\t\t\t\t\t\tvalue={product.reminderPeriod}\n\t\t\t\t\t\tplaceholder=\"Days ...\"\n\t\t\t\t\t\tname=\"reminderPeriod\"\n\t\t\t\t\t\tid=\"reminderPeriod\"\n\t\t\t\t\t\ttype=\"number\"\n\t\t\t\t\t\tmin=\"1\"\n\t\t\t\t\t\tmax=\"30\"\n\t\t\t\t\t\tstyle={{maxWidth:\"5rem\"}}\n\t\t\t\t\t\t />\n\t\t\t\t</Form.Group>\n\t\t\t\t<Col lg=\"2\"></Col>\n\t\t\t\t<Form.Group as={Col} xs=\"auto\">\n\t\t\t\t\t<Form.Label htmlFor=\"coolingPeriod\">How long should I lock the buy button?</Form.Label>\n\t\t\t\t\t<Form.Control\n\t\t\t\t\t\tonChange={handleChange}\n\t\t\t\t\t\tvalue={product.coolingPeriod}\n\t\t\t\t\t\tplaceholder=\"Days ...\"\n\t\t\t\t\t\tname=\"coolingPeriod\"\n\t\t\t\t\t\tid=\"coolingPeriod\"\n\t\t\t\t\t\ttype=\"number\"\n\t\t\t\t\t\tmin=\"1\"\n\t\t\t\t\t\tmax=\"90\"\n\t\t\t\t\t\tstyle={{maxWidth:\"5rem\"}}\n\t\t\t\t\t\t />\n\t\t\t\t</Form.Group>\n\t\t\t\t</Form.Row>\n\t\t\t\t<Form.Row>\n\t\t\t\t<Col>\n\t\t\t\t\t<Button variant=\"outline-danger\" aligned=\"left aligned\" size=\"lg\" onClick={resetAndGoHome}>\n\t\t\t\t\t\t<i className=\"fas fa-times-circle\"></i>\n\t\t\t\t\t</Button>\n\t\t\t\t</Col>\n\t\t\t\t<Col xs=\"auto\">\n\t\t\t\t\t<Button variant=\"outline-success\" aligned=\"right aligned\" type=\"submit\" size=\"lg\" title=\"Save product\">\n\t\t\t\t\t\t<i className=\"fas fa-check\"></i>\n\t\t\t\t\t</Button>\n\t\t\t\t</Col>\n\t\t\t\t</Form.Row>\n\t\t\t</Form>\n\t\t</React.Fragment>\n\t);\n};\n\nexport default EditProduct;\n","import { useState } from 'react'\nimport { Fragment } from 'react';\nimport Home from '../Home'\nimport EditProduct from '../EditProduct'\n//list of pages in the app\nimport Pages from './Pages'\n\n\n// Componet used to track the currently selected page and switch between pages.\n// To change to a new page from another component import 'Pages' as above and\n// pass setSelectedPage method down the tree to your component.\n// Call setSelectedPage(Pages.<new_page>) to change to the new_page page.\nconst PageSelection = (props) => {\n    const [selectedPage, setSelectedPage] = useState(Pages.HOME)\n\n    return (\n        <Fragment>\n            {selectedPage === Pages.HOME && \n                <Home allProducts={props.allProducts} \n                      setCurrentProduct={props.setCurrentProduct}\n                      changePage={setSelectedPage} /> }\n            {selectedPage === Pages.EDIT_PRODUCT && \n                <EditProduct product={props.currentProduct}        \n                            setCurrentProduct={props.setCurrentProduct}                  \n                            changePage={setSelectedPage} \n                            createProduct={props.createProduct} \n                            updateProduct={props.updateProduct}/> }\n        </Fragment>\n    )\n}\n\nexport default PageSelection\n","const LocalStorageSource = {\n  read(name) {\n    var value = localStorage.getItem(name);\n    if(value)\n        return JSON.parse(value);\n    return [];\n  },\n\n  write(name, entity, id) {\n    var source = this.read(name);\n\n    //try remove old version if exists\n    if(id) {\n      source = source.filter(e => e.id !== id);\n    }else{\n      //set a unique id\n      entity.id = this.calculateNextId(source);\n    }\n    source.push(entity)\n\n    localStorage.setItem(name, JSON.stringify(source));\n  },\n\n  //emulates identity generation\n  calculateNextId(entities) {\n    if(!entities || entities.length === 0)\n      return 1;\n    return Math.max(...entities.map((element) => element.id)) + 1;\n  }\n}\n\nexport default LocalStorageSource;\n","import TestSource from './sources/TestSource';\nimport LocalStorageSource from './sources/LocalStorageSource';\n\nclass Products {\n  constructor(DataSource, DateService) {\n    this.dataSource = DataSource;\n    this.dateService = DateService;\n  }\n\n  getAll() {\n    var products = this._readProductsFromSource();\n    //recalculates daysLeft property for each item\n    products.forEach((element) => {\n      element.daysLeft = this._calculateDaysLeft(element.createdAt, element.coolingPeriod);\n    });\n    return products;\n  }\n\n  update(productId, productChanges) {\n    this._writeProductToSource(productId, productChanges)\n  }\n\n  create(product) {\n\n     //init data for new product\n    product.likeCount = 0;\n    product.createdAt = new Date().toISOString();\n    product.daysLeft = product.coolingPeriod;\n\n    this._writeProductToSource(null, product)\n  }\n\n  remove(productId) {\n\n  }\n\n  _readProductsFromSource() {\n    return this.dataSource.read('products');\n  }\n\n  _writeProductToSource(id, product) {\n    return this.dataSource.write('products', product, id);\n  }\n\n  //createdAt: string in ISO format\n  _calculateDaysLeft = (createdAt, coolingPeriod) => {\n    let nowMs = this.dateService.getCurrent().getTime();\n    let createdAtMs = Date.parse(createdAt);\n    let coolingDeadline = createdAtMs + coolingPeriod * this.dateService.msInDay();\n    let diffDays = (coolingDeadline - nowMs) / this.dateService.msInDay();\n    //if difference is larger than 1 day i.e. cooling period hasn't lapsed yet - find value in days\n    return diffDays > 1 ? Math.floor(diffDays) : 0;\n  };\n}\n\n\n\nexport { Products, LocalStorageSource, TestSource };\n","class DateService {\n  //get current date object\n  getCurrent() {\n    return new Date();\n  }\n\n  //miliseconds in a day\n  msInDay(){\n    return 86400000;\n  }\n\n}\n\nexport default DateService ;\n","import { useState } from \"react\";\n\nimport PageSelection from \"./Components/PageSelection/PageSelection.js\";\nimport { Products, LocalStorageSource, TestSource } from \"./Products\";\nimport DateService from \"./Utils/DateService\";\n\nimport Container from \"react-bootstrap/Container\";\nimport \"bootstrap/dist/css/bootstrap.min.css\";\n\nconst products =\n  process.env.NODE_ENV !== 'test'\n    ? new Products(LocalStorageSource, new DateService())\n    : new Products(TestSource, new DateService());\nfunction App() {\n  const [allProducts, setAllProducts] = useState(products.getAll());\n  const [currentProduct, setCurrentProduct] = useState(null);\n\n  const createProduct = (product) => {\n    products.create.bind(products)(product);\n    setAllProducts(products.getAll());\n  };\n  const updateProduct = (productId, product) => {\n    products.update.bind(products)(productId, product);\n    setAllProducts(products.getAll());\n  };\n\n  return (\n    <Container>\n      <header>\n        <PageSelection\n          pages={App.pages}\n          allProducts={allProducts}\n          createProduct={createProduct}\n          updateProduct={updateProduct}\n          setCurrentProduct={setCurrentProduct}\n          currentProduct={currentProduct}\n        />\n      </header>\n    </Container>\n  );\n}\n\nApp.pages = { HOME: \"HOME\", EDIT_PRODUCT: \"EDIT_PRODUCT\" };\n\nexport default App;\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}